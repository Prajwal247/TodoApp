{"ast":null,"code":"var _jsxFileName = \"/Users/prajwalthapa/Desktop/todoapp/frontend/src/Pages/Login.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { Button, Container, TextInput, Group, Title, Paper, PasswordInput, Text, Alert } from '@mantine/core';\nimport { useNavigate } from 'react-router-dom';\nimport { useForm } from 'react-hook-form';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport * as yup from 'yup';\nimport { useAuth } from '../Context/Auth';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst schema = yup.object().shape({\n  username: yup.string(),\n  password: yup.string().required('Password is required')\n});\nconst Login = () => {\n  _s();\n  var _errors$username, _errors$password;\n  const navigate = useNavigate();\n  const {\n    register,\n    handleSubmit,\n    formState: {\n      errors\n    }\n  } = useForm({\n    resolver: yupResolver(schema)\n  });\n  const {\n    login\n  } = useAuth();\n  const [loginError, setLoginError] = useState(null);\n  const handleLogin = async data => {\n    data['grant_type'] = '';\n    data['scope'] = '';\n    data['client_id'] = '';\n    data['client_secret'] = '';\n    console.log(data);\n    try {\n      // const response = await axios.post('http://127.0.0.1:8000/login/', data); // Replace '/api/login' with your actual login endpoint\n      // console.log('Login success:', response.data);\n      login('dsf'); // Assuming your login function takes a token\n      navigate('/');\n    } catch (error) {\n      console.error('Login error:', 'Invalid Credentials');\n      setLoginError('Login failed. Please try again.');\n    }\n  };\n  const toRegistration = () => {\n    navigate('/registration');\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    size: 420,\n    my: 40,\n    children: [/*#__PURE__*/_jsxDEV(Title, {\n      align: \"center\",\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Paper, {\n      withBorder: true,\n      shadow: \"md\",\n      p: 30,\n      mt: 30,\n      radius: \"md\",\n      children: [/*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit(handleLogin),\n        children: [/*#__PURE__*/_jsxDEV(TextInput, {\n          label: \"Email\",\n          placeholder: \"you@example.com\",\n          ...register('username'),\n          error: (_errors$username = errors.username) === null || _errors$username === void 0 ? void 0 : _errors$username.message,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(PasswordInput, {\n          label: \"Password\",\n          placeholder: \"Your password\",\n          ...register('password'),\n          error: (_errors$password = errors.password) === null || _errors$password === void 0 ? void 0 : _errors$password.message,\n          required: true,\n          mt: \"md\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Group, {\n          position: \"apart\",\n          mt: \"md\",\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            type: \"submit\",\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), loginError && /*#__PURE__*/_jsxDEV(Alert, {\n        color: \"red\",\n        mt: \"md\",\n        children: loginError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Text, {\n        align: \"center\",\n        mt: \"md\",\n        children: [\"Don't have an account yet?\", ' ', /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"subtle\",\n          onClick: toRegistration,\n          children: \"Register\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n};\n_s(Login, \"aiBQaug+GNs4oSGCpNcftoJUfIA=\", false, function () {\n  return [useNavigate, useForm, useAuth];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","Button","Container","TextInput","Group","Title","Paper","PasswordInput","Text","Alert","useNavigate","useForm","yupResolver","yup","useAuth","jsxDEV","_jsxDEV","schema","object","shape","username","string","password","required","Login","_s","_errors$username","_errors$password","navigate","register","handleSubmit","formState","errors","resolver","login","loginError","setLoginError","handleLogin","data","console","log","error","toRegistration","size","my","children","align","fileName","_jsxFileName","lineNumber","columnNumber","withBorder","shadow","p","mt","radius","onSubmit","label","placeholder","message","position","type","color","variant","onClick","_c","$RefreshReg$"],"sources":["/Users/prajwalthapa/Desktop/todoapp/frontend/src/Pages/Login.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport {\n  Button,\n  Container,\n  TextInput,\n  Group,\n  Title,\n  Paper,\n  PasswordInput,\n  Text,\n  Alert\n} from '@mantine/core';\nimport { useNavigate } from 'react-router-dom';\nimport { useForm } from 'react-hook-form';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport * as yup from 'yup';\nimport { useAuth } from '../Context/Auth';\nimport axios from 'axios';\n\nconst schema = yup.object().shape({\n  username: yup.string(),\n  password: yup.string().required('Password is required'),\n});\n\nconst Login: React.FC = () => {\n  const navigate = useNavigate();\n  const { register, handleSubmit, formState: { errors } } = useForm({\n    resolver: yupResolver(schema),\n  });\n\n  const { login } = useAuth();\n  const [loginError, setLoginError] = useState<string | null>(null);\n\n  const handleLogin = async (data: any) => {\n    data['grant_type'] = '';\n    data['scope'] = '';\n    data['client_id'] = '';\n    data['client_secret'] = '';\n\n    console.log(data)\n\n    try {\n      // const response = await axios.post('http://127.0.0.1:8000/login/', data); // Replace '/api/login' with your actual login endpoint\n      // console.log('Login success:', response.data);\n      login('dsf'); // Assuming your login function takes a token\n      navigate('/');\n    } catch (error) {\n      console.error('Login error:', 'Invalid Credentials');\n      setLoginError('Login failed. Please try again.');\n    }\n  };\n\n  const toRegistration = () => {\n    navigate('/registration');\n  };\n\n  return (\n    <Container size={420} my={40}>\n      <Title align=\"center\">Login</Title>\n      <Paper withBorder shadow=\"md\" p={30} mt={30} radius=\"md\">\n        <form onSubmit={handleSubmit(handleLogin)}>\n          <TextInput\n            label=\"Email\"\n            placeholder=\"you@example.com\"\n            {...register('username')}\n            error={errors.username?.message}\n            required\n          />\n          <PasswordInput\n            label=\"Password\"\n            placeholder=\"Your password\"\n            {...register('password')}\n            error={errors.password?.message}\n            required\n            mt=\"md\"\n          />\n          <Group position=\"apart\" mt=\"md\">\n            <Button type=\"submit\">Login</Button>\n          </Group>\n        </form>\n        {loginError && (\n          <Alert color=\"red\" mt=\"md\">\n            {loginError}\n          </Alert>\n        )}\n        <Text align=\"center\" mt=\"md\">\n          Don't have an account yet?{' '}\n          <Button variant=\"subtle\" onClick={toRegistration}>\n            Register\n          </Button>\n        </Text>\n      </Paper>\n    </Container>\n  );\n};\n\nexport default Login;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SACEC,MAAM,EACNC,SAAS,EACTC,SAAS,EACTC,KAAK,EACLC,KAAK,EACLC,KAAK,EACLC,aAAa,EACbC,IAAI,EACJC,KAAK,QACA,eAAe;AACtB,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,OAAO,QAAQ,iBAAiB;AACzC,SAASC,WAAW,QAAQ,yBAAyB;AACrD,OAAO,KAAKC,GAAG,MAAM,KAAK;AAC1B,SAASC,OAAO,QAAQ,iBAAiB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAG1C,MAAMC,MAAM,GAAGJ,GAAG,CAACK,MAAM,CAAC,CAAC,CAACC,KAAK,CAAC;EAChCC,QAAQ,EAAEP,GAAG,CAACQ,MAAM,CAAC,CAAC;EACtBC,QAAQ,EAAET,GAAG,CAACQ,MAAM,CAAC,CAAC,CAACE,QAAQ,CAAC,sBAAsB;AACxD,CAAC,CAAC;AAEF,MAAMC,KAAe,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAAA,IAAAC,gBAAA,EAAAC,gBAAA;EAC5B,MAAMC,QAAQ,GAAGlB,WAAW,CAAC,CAAC;EAC9B,MAAM;IAAEmB,QAAQ;IAAEC,YAAY;IAAEC,SAAS,EAAE;MAAEC;IAAO;EAAE,CAAC,GAAGrB,OAAO,CAAC;IAChEsB,QAAQ,EAAErB,WAAW,CAACK,MAAM;EAC9B,CAAC,CAAC;EAEF,MAAM;IAAEiB;EAAM,CAAC,GAAGpB,OAAO,CAAC,CAAC;EAC3B,MAAM,CAACqB,UAAU,EAAEC,aAAa,CAAC,GAAGpC,QAAQ,CAAgB,IAAI,CAAC;EAEjE,MAAMqC,WAAW,GAAG,MAAOC,IAAS,IAAK;IACvCA,IAAI,CAAC,YAAY,CAAC,GAAG,EAAE;IACvBA,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE;IAClBA,IAAI,CAAC,WAAW,CAAC,GAAG,EAAE;IACtBA,IAAI,CAAC,eAAe,CAAC,GAAG,EAAE;IAE1BC,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC;IAEjB,IAAI;MACF;MACA;MACAJ,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC;MACdN,QAAQ,CAAC,GAAG,CAAC;IACf,CAAC,CAAC,OAAOa,KAAK,EAAE;MACdF,OAAO,CAACE,KAAK,CAAC,cAAc,EAAE,qBAAqB,CAAC;MACpDL,aAAa,CAAC,iCAAiC,CAAC;IAClD;EACF,CAAC;EAED,MAAMM,cAAc,GAAGA,CAAA,KAAM;IAC3Bd,QAAQ,CAAC,eAAe,CAAC;EAC3B,CAAC;EAED,oBACEZ,OAAA,CAACd,SAAS;IAACyC,IAAI,EAAE,GAAI;IAACC,EAAE,EAAE,EAAG;IAAAC,QAAA,gBAC3B7B,OAAA,CAACX,KAAK;MAACyC,KAAK,EAAC,QAAQ;MAAAD,QAAA,EAAC;IAAK;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAO,CAAC,eACnClC,OAAA,CAACV,KAAK;MAAC6C,UAAU;MAACC,MAAM,EAAC,IAAI;MAACC,CAAC,EAAE,EAAG;MAACC,EAAE,EAAE,EAAG;MAACC,MAAM,EAAC,IAAI;MAAAV,QAAA,gBACtD7B,OAAA;QAAMwC,QAAQ,EAAE1B,YAAY,CAACO,WAAW,CAAE;QAAAQ,QAAA,gBACxC7B,OAAA,CAACb,SAAS;UACRsD,KAAK,EAAC,OAAO;UACbC,WAAW,EAAC,iBAAiB;UAAA,GACzB7B,QAAQ,CAAC,UAAU,CAAC;UACxBY,KAAK,GAAAf,gBAAA,GAAEM,MAAM,CAACZ,QAAQ,cAAAM,gBAAA,uBAAfA,gBAAA,CAAiBiC,OAAQ;UAChCpC,QAAQ;QAAA;UAAAwB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACT,CAAC,eACFlC,OAAA,CAACT,aAAa;UACZkD,KAAK,EAAC,UAAU;UAChBC,WAAW,EAAC,eAAe;UAAA,GACvB7B,QAAQ,CAAC,UAAU,CAAC;UACxBY,KAAK,GAAAd,gBAAA,GAAEK,MAAM,CAACV,QAAQ,cAAAK,gBAAA,uBAAfA,gBAAA,CAAiBgC,OAAQ;UAChCpC,QAAQ;UACR+B,EAAE,EAAC;QAAI;UAAAP,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACR,CAAC,eACFlC,OAAA,CAACZ,KAAK;UAACwD,QAAQ,EAAC,OAAO;UAACN,EAAE,EAAC,IAAI;UAAAT,QAAA,eAC7B7B,OAAA,CAACf,MAAM;YAAC4D,IAAI,EAAC,QAAQ;YAAAhB,QAAA,EAAC;UAAK;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC/B,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACJ,CAAC,EACNf,UAAU,iBACTnB,OAAA,CAACP,KAAK;QAACqD,KAAK,EAAC,KAAK;QAACR,EAAE,EAAC,IAAI;QAAAT,QAAA,EACvBV;MAAU;QAAAY,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CACR,eACDlC,OAAA,CAACR,IAAI;QAACsC,KAAK,EAAC,QAAQ;QAACQ,EAAE,EAAC,IAAI;QAAAT,QAAA,GAAC,4BACD,EAAC,GAAG,eAC9B7B,OAAA,CAACf,MAAM;UAAC8D,OAAO,EAAC,QAAQ;UAACC,OAAO,EAAEtB,cAAe;UAAAG,QAAA,EAAC;QAElD;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACL,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACF,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACC,CAAC;AAEhB,CAAC;AAACzB,EAAA,CAtEID,KAAe;EAAA,QACFd,WAAW,EAC8BC,OAAO,EAI/CG,OAAO;AAAA;AAAAmD,EAAA,GANrBzC,KAAe;AAwErB,eAAeA,KAAK;AAAC,IAAAyC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}