{"ast":null,"code":"import React from'react';import{Button,Container,TextInput,Group,Title,Paper,PasswordInput,Text}from'@mantine/core';import{useNavigate}from'react-router-dom';import{useForm}from'react-hook-form';import{yupResolver}from'@hookform/resolvers/yup';import*as yup from'yup';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const schema=yup.object().shape({email:yup.string().email('Invalid email').required('Email is required'),password:yup.string().min(6,'Password must be at least 6 characters long').required('Password is required'),confirmPassword:yup.string().oneOf([yup.ref('password'),''],'Passwords must match').required('Confirm Password is required')});const Registration=()=>{var _errors$email,_errors$password,_errors$confirmPasswo;const navigate=useNavigate();const{register,handleSubmit,formState:{errors}}=useForm({resolver:yupResolver(schema)});const handleRegister=async data=>{try{const response=await axios.post('http://127.0.0.1:8000/register',{username:data.email,password:data.password});// Handle success, e.g., navigate to a different page or show a success message\nconsole.log('Registration successful:',response.data);navigate('/login');// Redirect to login page after successful registration\n}catch(error){// Handle error, e.g., show an error message\nconsole.error('Registration failed:',\"error occured\");}};const handleNavigateToLogin=()=>{navigate('/login');};return/*#__PURE__*/_jsxs(Container,{size:420,my:40,children:[/*#__PURE__*/_jsx(Title,{align:\"center\",children:\"Register\"}),/*#__PURE__*/_jsxs(Paper,{withBorder:true,shadow:\"md\",p:30,mt:30,radius:\"md\",children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(handleRegister),children:[/*#__PURE__*/_jsx(TextInput,{label:\"Email\",placeholder:\"you@example.com\",...register('email'),error:(_errors$email=errors.email)===null||_errors$email===void 0?void 0:_errors$email.message,required:true}),/*#__PURE__*/_jsx(PasswordInput,{label:\"Password\",placeholder:\"Your password\",...register('password'),error:(_errors$password=errors.password)===null||_errors$password===void 0?void 0:_errors$password.message,required:true,mt:\"md\"}),/*#__PURE__*/_jsx(PasswordInput,{label:\"Confirm Password\",placeholder:\"Confirm your password\",...register('confirmPassword'),error:(_errors$confirmPasswo=errors.confirmPassword)===null||_errors$confirmPasswo===void 0?void 0:_errors$confirmPasswo.message,required:true,mt:\"md\"}),/*#__PURE__*/_jsx(Group,{position:\"apart\",mt:\"md\",children:/*#__PURE__*/_jsx(Button,{type:\"submit\",children:\"Register\"})})]}),/*#__PURE__*/_jsxs(Text,{align:\"center\",mt:\"md\",children:[\"Already have an account?\",' ',/*#__PURE__*/_jsx(Button,{variant:\"subtle\",onClick:handleNavigateToLogin,children:\"Login\"})]})]})]});};export default Registration;","map":{"version":3,"names":["React","Button","Container","TextInput","Group","Title","Paper","PasswordInput","Text","useNavigate","useForm","yupResolver","yup","axios","jsx","_jsx","jsxs","_jsxs","schema","object","shape","email","string","required","password","min","confirmPassword","oneOf","ref","Registration","_errors$email","_errors$password","_errors$confirmPasswo","navigate","register","handleSubmit","formState","errors","resolver","handleRegister","data","response","post","username","console","log","error","handleNavigateToLogin","size","my","children","align","withBorder","shadow","p","mt","radius","onSubmit","label","placeholder","message","position","type","variant","onClick"],"sources":["/Users/prajwalthapa/Desktop/todoapp/frontend/src/Pages/Registration.tsx"],"sourcesContent":["import React from 'react';\nimport {\n  Button,\n  Container,\n  TextInput,\n  Group,\n  Title,\n  Paper,\n  PasswordInput,\n  Text,\n} from '@mantine/core';\nimport { useNavigate } from 'react-router-dom';\nimport { useForm } from 'react-hook-form';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport * as yup from 'yup';\nimport axios from 'axios';\n\nconst schema = yup.object().shape({\n  email: yup.string().email('Invalid email').required('Email is required'),\n  password: yup.string().min(6, 'Password must be at least 6 characters long').required('Password is required'),\n  confirmPassword: yup.string().oneOf([yup.ref('password'), ''], 'Passwords must match').required('Confirm Password is required'),\n});\n\nconst Registration: React.FC = () => {\n  const navigate = useNavigate();\n  const { register, handleSubmit, formState: { errors } } = useForm({\n    resolver: yupResolver(schema),\n  });\n\n  const handleRegister = async (data: any) => {\n    try {\n      const response = await axios.post('http://127.0.0.1:8000/register', {\n        username: data.email,\n        password: data.password,\n      });\n\n      // Handle success, e.g., navigate to a different page or show a success message\n      console.log('Registration successful:', response.data);\n      navigate('/login'); // Redirect to login page after successful registration\n    } catch (error) {\n      // Handle error, e.g., show an error message\n      console.error('Registration failed:', \"error occured\");\n    }\n  };\n\n  const handleNavigateToLogin = () => {\n    navigate('/login');\n  };\n\n  return (\n    <Container size={420} my={40}>\n      <Title align=\"center\">Register</Title>\n      <Paper withBorder shadow=\"md\" p={30} mt={30} radius=\"md\">\n        <form onSubmit={handleSubmit(handleRegister)}>\n          <TextInput\n            label=\"Email\"\n            placeholder=\"you@example.com\"\n            {...register('email')}\n            error={errors.email?.message}\n            required\n          />\n          <PasswordInput\n            label=\"Password\"\n            placeholder=\"Your password\"\n            {...register('password')}\n            error={errors.password?.message}\n            required\n            mt=\"md\"\n          />\n          <PasswordInput\n            label=\"Confirm Password\"\n            placeholder=\"Confirm your password\"\n            {...register('confirmPassword')}\n            error={errors.confirmPassword?.message}\n            required\n            mt=\"md\"\n          />\n          <Group position=\"apart\" mt=\"md\">\n            <Button type=\"submit\">Register</Button>\n          </Group>\n        </form>\n        <Text align=\"center\" mt=\"md\">\n          Already have an account?{' '}\n          <Button variant=\"subtle\" onClick={handleNavigateToLogin}>\n            Login\n          </Button>\n        </Text>\n      </Paper>\n    </Container>\n  );\n};\n\nexport default Registration;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OACEC,MAAM,CACNC,SAAS,CACTC,SAAS,CACTC,KAAK,CACLC,KAAK,CACLC,KAAK,CACLC,aAAa,CACbC,IAAI,KACC,eAAe,CACtB,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,OAAO,KAAQ,iBAAiB,CACzC,OAASC,WAAW,KAAQ,yBAAyB,CACrD,MAAO,GAAK,CAAAC,GAAG,KAAM,KAAK,CAC1B,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,KAAM,CAAAC,MAAM,CAAGN,GAAG,CAACO,MAAM,CAAC,CAAC,CAACC,KAAK,CAAC,CAChCC,KAAK,CAAET,GAAG,CAACU,MAAM,CAAC,CAAC,CAACD,KAAK,CAAC,eAAe,CAAC,CAACE,QAAQ,CAAC,mBAAmB,CAAC,CACxEC,QAAQ,CAAEZ,GAAG,CAACU,MAAM,CAAC,CAAC,CAACG,GAAG,CAAC,CAAC,CAAE,6CAA6C,CAAC,CAACF,QAAQ,CAAC,sBAAsB,CAAC,CAC7GG,eAAe,CAAEd,GAAG,CAACU,MAAM,CAAC,CAAC,CAACK,KAAK,CAAC,CAACf,GAAG,CAACgB,GAAG,CAAC,UAAU,CAAC,CAAE,EAAE,CAAC,CAAE,sBAAsB,CAAC,CAACL,QAAQ,CAAC,8BAA8B,CAChI,CAAC,CAAC,CAEF,KAAM,CAAAM,YAAsB,CAAGA,CAAA,GAAM,KAAAC,aAAA,CAAAC,gBAAA,CAAAC,qBAAA,CACnC,KAAM,CAAAC,QAAQ,CAAGxB,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAEyB,QAAQ,CAAEC,YAAY,CAAEC,SAAS,CAAE,CAAEC,MAAO,CAAE,CAAC,CAAG3B,OAAO,CAAC,CAChE4B,QAAQ,CAAE3B,WAAW,CAACO,MAAM,CAC9B,CAAC,CAAC,CAEF,KAAM,CAAAqB,cAAc,CAAG,KAAO,CAAAC,IAAS,EAAK,CAC1C,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAA5B,KAAK,CAAC6B,IAAI,CAAC,gCAAgC,CAAE,CAClEC,QAAQ,CAAEH,IAAI,CAACnB,KAAK,CACpBG,QAAQ,CAAEgB,IAAI,CAAChB,QACjB,CAAC,CAAC,CAEF;AACAoB,OAAO,CAACC,GAAG,CAAC,0BAA0B,CAAEJ,QAAQ,CAACD,IAAI,CAAC,CACtDP,QAAQ,CAAC,QAAQ,CAAC,CAAE;AACtB,CAAE,MAAOa,KAAK,CAAE,CACd;AACAF,OAAO,CAACE,KAAK,CAAC,sBAAsB,CAAE,eAAe,CAAC,CACxD,CACF,CAAC,CAED,KAAM,CAAAC,qBAAqB,CAAGA,CAAA,GAAM,CAClCd,QAAQ,CAAC,QAAQ,CAAC,CACpB,CAAC,CAED,mBACEhB,KAAA,CAACf,SAAS,EAAC8C,IAAI,CAAE,GAAI,CAACC,EAAE,CAAE,EAAG,CAAAC,QAAA,eAC3BnC,IAAA,CAACV,KAAK,EAAC8C,KAAK,CAAC,QAAQ,CAAAD,QAAA,CAAC,UAAQ,CAAO,CAAC,cACtCjC,KAAA,CAACX,KAAK,EAAC8C,UAAU,MAACC,MAAM,CAAC,IAAI,CAACC,CAAC,CAAE,EAAG,CAACC,EAAE,CAAE,EAAG,CAACC,MAAM,CAAC,IAAI,CAAAN,QAAA,eACtDjC,KAAA,SAAMwC,QAAQ,CAAEtB,YAAY,CAACI,cAAc,CAAE,CAAAW,QAAA,eAC3CnC,IAAA,CAACZ,SAAS,EACRuD,KAAK,CAAC,OAAO,CACbC,WAAW,CAAC,iBAAiB,IACzBzB,QAAQ,CAAC,OAAO,CAAC,CACrBY,KAAK,EAAAhB,aAAA,CAAEO,MAAM,CAAChB,KAAK,UAAAS,aAAA,iBAAZA,aAAA,CAAc8B,OAAQ,CAC7BrC,QAAQ,MACT,CAAC,cACFR,IAAA,CAACR,aAAa,EACZmD,KAAK,CAAC,UAAU,CAChBC,WAAW,CAAC,eAAe,IACvBzB,QAAQ,CAAC,UAAU,CAAC,CACxBY,KAAK,EAAAf,gBAAA,CAAEM,MAAM,CAACb,QAAQ,UAAAO,gBAAA,iBAAfA,gBAAA,CAAiB6B,OAAQ,CAChCrC,QAAQ,MACRgC,EAAE,CAAC,IAAI,CACR,CAAC,cACFxC,IAAA,CAACR,aAAa,EACZmD,KAAK,CAAC,kBAAkB,CACxBC,WAAW,CAAC,uBAAuB,IAC/BzB,QAAQ,CAAC,iBAAiB,CAAC,CAC/BY,KAAK,EAAAd,qBAAA,CAAEK,MAAM,CAACX,eAAe,UAAAM,qBAAA,iBAAtBA,qBAAA,CAAwB4B,OAAQ,CACvCrC,QAAQ,MACRgC,EAAE,CAAC,IAAI,CACR,CAAC,cACFxC,IAAA,CAACX,KAAK,EAACyD,QAAQ,CAAC,OAAO,CAACN,EAAE,CAAC,IAAI,CAAAL,QAAA,cAC7BnC,IAAA,CAACd,MAAM,EAAC6D,IAAI,CAAC,QAAQ,CAAAZ,QAAA,CAAC,UAAQ,CAAQ,CAAC,CAClC,CAAC,EACJ,CAAC,cACPjC,KAAA,CAACT,IAAI,EAAC2C,KAAK,CAAC,QAAQ,CAACI,EAAE,CAAC,IAAI,CAAAL,QAAA,EAAC,0BACH,CAAC,GAAG,cAC5BnC,IAAA,CAACd,MAAM,EAAC8D,OAAO,CAAC,QAAQ,CAACC,OAAO,CAAEjB,qBAAsB,CAAAG,QAAA,CAAC,OAEzD,CAAQ,CAAC,EACL,CAAC,EACF,CAAC,EACC,CAAC,CAEhB,CAAC,CAED,cAAe,CAAArB,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}